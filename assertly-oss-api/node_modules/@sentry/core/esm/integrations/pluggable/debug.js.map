{"version":3,"file":"debug.js","sourceRoot":"","sources":["../../../src/integrations/pluggable/debug.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,uBAAuB,EAAE,aAAa,EAAE,MAAM,aAAa,CAAC;AASrE,YAAY;AACZ,MAAM,OAAO,KAAK;IAchB;;OAEG;IACH,YAAmB,OAAsB;QAhBzC;;WAEG;QACI,SAAI,GAAW,KAAK,CAAC,EAAE,CAAC;QAc7B,IAAI,CAAC,OAAO,GAAG;YACb,QAAQ,EAAE,KAAK;YACf,SAAS,EAAE,KAAK;YAChB,GAAG,OAAO;SACX,CAAC;IACJ,CAAC;IAED;;OAEG;IACI,SAAS;QACd,uBAAuB,CAAC,KAAK,EAAE,KAAkB,EAAE,IAAsB,EAAE,EAAE;YAC3E,MAAM,IAAI,GAAG,aAAa,EAAE,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;YACnD,IAAI,IAAI,EAAE;gBACR,4BAA4B;gBAC5B,6BAA6B;gBAC7B,IAAI,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE;oBACzB,QAAQ,CAAC;iBACV;gBAED,IAAI,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE;oBAC1B,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC;oBAC5C,IAAI,IAAI,EAAE;wBACR,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC;qBAC5C;iBACF;qBAAM;oBACL,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;oBACnB,IAAI,IAAI,EAAE;wBACR,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;qBACnB;iBACF;aACF;YACD,OAAO,KAAK,CAAC;QACf,CAAC,CAAC,CAAC;IACL,CAAC;;AA9CD;;GAEG;AACW,QAAE,GAAW,OAAO,CAAC","sourcesContent":["import { addGlobalEventProcessor, getCurrentHub } from '@sentry/hub';\nimport { Integration, SentryEvent, SentryEventHint } from '@sentry/types';\n\n/** JSDoc */\ninterface DebugOptions {\n  stringify?: boolean;\n  debugger?: boolean;\n}\n\n/** JSDoc */\nexport class Debug implements Integration {\n  /**\n   * @inheritDoc\n   */\n  public name: string = Debug.id;\n\n  /**\n   * @inheritDoc\n   */\n  public static id: string = 'Debug';\n\n  /** JSDoc */\n  private readonly options: DebugOptions;\n\n  /**\n   * @inheritDoc\n   */\n  public constructor(options?: DebugOptions) {\n    this.options = {\n      debugger: false,\n      stringify: false,\n      ...options,\n    };\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public setupOnce(): void {\n    addGlobalEventProcessor(async (event: SentryEvent, hint?: SentryEventHint) => {\n      const self = getCurrentHub().getIntegration(Debug);\n      if (self) {\n        // tslint:disable:no-console\n        // tslint:disable:no-debugger\n        if (self.options.debugger) {\n          debugger;\n        }\n\n        if (self.options.stringify) {\n          console.log(JSON.stringify(event, null, 2));\n          if (hint) {\n            console.log(JSON.stringify(hint, null, 2));\n          }\n        } else {\n          console.log(event);\n          if (hint) {\n            console.log(hint);\n          }\n        }\n      }\n      return event;\n    });\n  }\n}\n"]}