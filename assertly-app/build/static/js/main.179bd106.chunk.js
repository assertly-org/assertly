(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{62:function(e,t,n){e.exports=n(79)},73:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){"use strict";n.r(t);var a,r=n(0),c=n.n(r),o=n(15),i=n.n(o),s=n(11),l=n(25),u=n(46),m=n(35),p=n(33),f=n(12),E="GET_TEST_SET_EVENTS",d="GET_TEST_SET_EVENTS_SUCCESS",y="GET_TEST_SET_EVENTS_FAILS";var v=function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,a=arguments.length>1?arguments[1]:void 0;return t.hasOwnProperty(a.type)?t[a.type](n,a):n}}({loading:!1,events:[]},(a={},Object(p.a)(a,E,function(e){return Object(f.a)({},e,{loading:!0})}),Object(p.a)(a,d,function(e,t){return Object(f.a)({},e,{loading:!1,events:t.payload})}),Object(p.a)(a,y,function(e,t){return Object(f.a)({},e,{loading:!1})}),a)),h=function(e){return Object(l.c)({events:v,router:Object(m.b)(e)})},b=n(50),O=n(37),g=n(51);var j={apiHost:"/api"},S=Object.assign({use_redux_devtools:!1,apiTimeout:{response:15e3,deadline:1e4}},j);function T(e,t,n){var a=null,r=!1;try{a=JSON.parse(t),r=!0}catch(c){a=t}this.response=a,this.message=e,this.status=n,this.toString=function(){return"".concat(this.message,"\nResponse:\n").concat(r?JSON.stringify(this.response,null,2):this.response)}}var w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={"Content-Type":"application/json; charset=utf-8"},a=localStorage.getItem("token");a&&"null"!==a&&(n=Object(f.a)({},n,{authorization:"Token "+a}));var r,c=Object(f.a)({},{mode:"cors",cache:"no-cache",credentials:"omit",redirect:"follow",referrer:"no-referrer"},t,{headers:Object(f.a)({},n,t.headers)}),o=t&&t.query&&(r=t.query)&&!function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(r)?"?"+Object.keys(r).map(function(e){return e+"="+r[e]}).join("&"):"",i="".concat(function(e){if(e.match(/https?|localhost/))return e;var t="/"!==e[0]?"/".concat(e):e;return"".concat(S.apiHost).concat(t)}(e)).concat(o),s=c.body instanceof File;c.body&&"object"===typeof c.body&&!s&&(c.body=JSON.stringify(c.body));var l=null;return fetch(i,c).then(function(e){return(l=e).status,l.status<200||l.status>=300?l.text():204===l.status?null:l.json()}).then(function(e){if(l.status<200||l.status>=300)throw e;return e}).catch(function(e){throw l?new T("Request failed with status ".concat(l.status,"."),e,l.status):new T(e.toString(),null,"REQUEST_FAILED")})},_=Object(s.a)();n(73);var N=n(29),k=n(17),x=n(32),C=n(30),L=n(31),I=n(14),A=n(19),J=(n(74),n(75),n(99)),R=n(100),F=n(101),M=n(105),U=n(53),D=n.n(U),z=n(52),V=n.n(z),q=n(43),G=n.n(q),P=n(102),H=function(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()},X=function(e){function t(){var e,n;Object(N.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(x.a)(this,(e=Object(C.a)(t)).call.apply(e,[this].concat(r)))).getTestSetEntries=function(){n.props.getTestSetEntries()},n}return Object(L.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("message",this.getTestSetEntries),this.getTestSetEntries()}},{key:"prettifyTag",value:function(e){switch(e.toLowerCase()){case"a":return"Link";default:return H(e)}}},{key:"generateSecondaryText",value:function(e){return"".concat(e.tagType?"".concat(H(e.tagType)," "):"").concat(this.prettifyTag(e.tagName)).concat(e.textContent?' "'+e.textContent+'"':"")}},{key:"getIconFromAction",value:function(e){switch(e){case"click":case"select":return c.a.createElement(V.a,{color:"primary"});case"change":default:return c.a.createElement(D.a,{color:"primary"})}}},{key:"render",value:function(){var e=this,t=this.props.events,n=t.length>0&&t.find(function(e){return e.url}),a=n&&n.url;return c.a.createElement("div",{className:"events-list"},c.a.createElement(J.a,{dense:!0},t.length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement(R.a,{className:"event-item"},c.a.createElement(F.a,null,c.a.createElement(G.a,{color:"primary"})),c.a.createElement(M.a,{primary:"Initial URL",secondary:a})),c.a.createElement(P.a,null),t.filter(function(e){return e.event_payload}).map(function(n,a){return c.a.createElement("span",{key:a},0!=a&&n.url!==t[a-1].url&&c.a.createElement(c.a.Fragment,null,c.a.createElement(R.a,{className:"event-item"},c.a.createElement(F.a,null,c.a.createElement(G.a,{color:"primary"})),c.a.createElement(M.a,{primary:"URL Change",secondary:n.url})),c.a.createElement(P.a,null)),c.a.createElement(R.a,{key:a,className:"event-item"},c.a.createElement(F.a,null,e.getIconFromAction(n.event_payload.action)),c.a.createElement(M.a,{primary:H(n.event_payload.action),secondary:e.generateSecondaryText(n.event_payload)})),c.a.createElement(P.a,null))}))))}}]),t}(r.Component),B={getTestSetEntries:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"1a7e9a24-fc8d-4004-95d8-e7e9b8631bed",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"bde32948-f9b3-4d3e-bb5f-630437a0338e",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"60652b19-98f3-40b4-88f7-88c71dbc788a";return{types:[E,d,y],promise:function(a){return a("/accounts/".concat(e,"/projects/").concat(t,"/testSets/").concat(n,"/testSetEntries"))}}}},Q=Object(A.c)(function(e){return{events:e.events.events}},B)(X);n(77);var K=function(e){function t(){return Object(N.a)(this,t),Object(x.a)(this,Object(C.a)(t).apply(this,arguments))}return Object(L.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("message",this.receiveMessage)}},{key:"receiveMessage",value:function(e){var t=e.data;e&&e.data&&"string"===typeof e.data&&function(e){try{JSON.parse(e)}catch(t){return!1}return!0}(t)&&(t=JSON.parse(t))}},{key:"render",value:function(){return c.a.createElement("div",{className:"runner"},c.a.createElement("div",{className:"size-container"},c.a.createElement("iframe",{id:"runner-iframe",className:"iframe",name:"runner",src:"//localhost:3000"})))}}]),t}(r.Component),W=n(104),Y=n(39),Z=n(55),$=n.n(Z),ee=n(54),te=n.n(ee),ne=n(57),ae=n.n(ne),re=n(56),ce=n.n(re),oe=n(103),ie=(n(78),function(){var e=Object(r.useState)(!1),t=Object(O.a)(e,2),n=t[0],a=t[1],o=Object(r.useState)(""),i=Object(O.a)(o,2),s=i[0],l=i[1],u=Object(A.d)(function(e){return{events:e.events.events}}).events;return Object(r.useEffect)(function(){var e=u&&u.length>0&&u.reverse().find(function(e){return e.url}),t=e&&e.url;t!==s&&l(t)}),c.a.createElement(oe.a,{container:!0,spacing:2},c.a.createElement(oe.a,{container:!0,item:!0,xs:12,style:{padding:"15px 15px"}},c.a.createElement(oe.a,{item:!0,xs:4},c.a.createElement(oe.a,{container:!0,alignItems:"center"},c.a.createElement(Y.a,{to:"/testsets"},c.a.createElement(te.a,{color:"primary"})),c.a.createElement(P.a,{orientation:"vertical"}),c.a.createElement(W.a,{size:"small",color:"default"},c.a.createElement($.a,{color:"primary"})," Replay"),c.a.createElement(P.a,{orientation:"vertical"}),c.a.createElement(W.a,{onClick:function(){return a(e=!n),void window.frames.runner.postMessage(JSON.stringify({assert:e}),"*");var e},size:"small",color:"default"},n?c.a.createElement(ce.a,{color:"primary"}):c.a.createElement(ae.a,{color:"primary"})," Assert"))),c.a.createElement(oe.a,{item:!0,xs:8},c.a.createElement("input",{className:"url-bar",value:String(s),disabled:!0}))),c.a.createElement(oe.a,{item:!0,xs:4},c.a.createElement("h3",null,"Events"),c.a.createElement(Q,null)),c.a.createElement(oe.a,{item:!0,xs:8},c.a.createElement("h3",null,"Runner"),c.a.createElement(K,null)))}),se=function(e){function t(){return Object(N.a)(this,t),Object(x.a)(this,Object(C.a)(t).apply(this,arguments))}return Object(L.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"App"},c.a.createElement(A.a,{store:this.props.store,key:"provider"},c.a.createElement(m.a,{history:this.props.history},c.a.createElement(I.c,null,c.a.createElement(I.a,{path:"/",exact:!0,component:ie})))))}}]),t}(r.Component),le=function(e){var t,n=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.d,a=[b.a,Object(u.a)(_),(t=w,function(e){var n=e.dispatch,a=e.getState;return function(e){return function(r){if("function"===typeof r)return r(n,a);var c=r.promise,o=r.types,i=Object(g.a)(r,["promise","types"]);if(!c)return e(r);var s=Object(O.a)(o,3),l=s[0],u=s[1],m=s[2];e(Object(f.a)({},i,{type:l}));var p=c(t);return p.then(function(t){e(Object(f.a)({},i,{payload:t,type:u}))},function(t){e(Object(f.a)({},i,{error:t,type:m}))}).catch(function(t){e(Object(f.a)({},i,{error:t,type:m}))}),p}}})],r=n(l.a.apply(void 0,a)),c=h(_);return{store:Object(l.e)(c,e,r),history:_}}(),ue=le.store,me=le.history;i.a.render(c.a.createElement(se,{store:ue,history:me}),document.getElementById("root"))}},[[62,1,2]]]);
//# sourceMappingURL=main.179bd106.chunk.js.map