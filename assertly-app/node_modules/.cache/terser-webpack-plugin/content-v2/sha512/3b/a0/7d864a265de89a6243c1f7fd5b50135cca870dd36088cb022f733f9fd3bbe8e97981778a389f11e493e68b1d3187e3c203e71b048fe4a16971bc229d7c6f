{"map":"{\"version\":3,\"sources\":[\"/Users/zealotsd/Desktop/assertly/assertly-app/src/ControlPanel/Reporter/index.tsx\",\"/Users/zealotsd/Desktop/assertly/assertly-app/src/Runner/utils.ts\",\"/Users/zealotsd/Desktop/assertly/assertly-app/src/ControlPanel/index.tsx\",\"/Users/zealotsd/Desktop/assertly/assertly-app/src/Runner/index.tsx\",\"/Users/zealotsd/Desktop/assertly/assertly-app/src/App.tsx\",\"/Users/zealotsd/Desktop/assertly/assertly-app/src/index.tsx\"],\"names\":[\"Reporter\",\"e\",\"lastEventRaw\",\"localStorage\",\"getItem\",\"lastEvent\",\"JSON\",\"parse\",\"console\",\"log\",\"doc\",\"window\",\"document\",\"getElementById\",\"error\",\"element\",\"querySelector\",\"selector\",\"click\",\"warn\",\"react_default\",\"a\",\"createElement\",\"className\",\"onClick\",\"this\",\"clickReplay\",\"buildJestTest\",\"Component\",\"ControlPanel\",\"ControlPanel_Reporter\",\"Runner\",\"addEventListener\",\"receiveMessage\",\"event\",\"data\",\"str\",\"isJson\",\"id\",\"src\",\"App\",\"src_ControlPanel\",\"src_Runner\",\"ReactDOM\",\"render\",\"src_App_0\"],\"mappings\":\"kTA+DeA,sLA1DDC,GACV,IAAMC,EAAeC,aAAaC,QAAQ,aAC1C,GAAIF,EAAc,CAChB,IAAMG,EAAYC,KAAKC,MAAML,GAC7BM,QAAQC,IAAI,eAAgBJ,GAC5B,IAAMK,ECREC,OAAOC,SAASC,eAAe,iBDSvC,IAAKH,EAEH,YADAF,QAAQM,MAAM,aAGhB,IAAMC,EAAUL,EAAIM,cAAcX,EAAUY,UAE5C,OADAT,QAAQC,IAAI,UAAWM,GAClBA,GAKLA,EAAQG,SACD,IALLV,QAAQW,KAAK,iEAAkEd,EAAUY,WAClF,GAQX,OADAT,QAAQW,KAAK,mBACN,0CAIP,IAAMjB,EAAeC,aAAaC,QAAQ,aAC1C,GAAIF,EAAc,CAChB,IAAMG,EAAYC,KAAKC,MAAML,GAC7BM,QAAQC,IAAIJ,qCAKd,OACEe,EAAAC,EAAAC,cAAA,MAAA,CAAKC,UAAU,qBAAf,WAGEH,EAAAC,EAAAC,cAAA,KAAA,MAAKF,EAAAC,EAAAC,cAAA,KAAA,MAAKF,EAAAC,EAAAC,cAAA,KAAA,MAEVF,EAAAC,EAAAC,cAAA,SAAA,CACEE,QAASC,KAAKC,aADhB,qBAMAN,EAAAC,EAAAC,cAAA,KAAA,MAAKF,EAAAC,EAAAC,cAAA,KAAA,MAAKF,EAAAC,EAAAC,cAAA,KAAA,MAEVF,EAAAC,EAAAC,cAAA,SAAA,CACEE,QAASC,KAAKE,eADhB,0CAjDeC,EAAAA,WESRC,mLARX,OACET,EAAAC,EAAAC,cAAA,MAAA,CAAKC,UAAU,OACbH,EAAAC,EAAAC,cAACQ,EAAD,cAJmBF,EAAAA,WC4BZG,qMAxBXpB,OAAOqB,iBAAiB,UAAWP,KAAKQ,uDAG3BC,GACb,IAAIC,EAAOD,EAAMC,KACbD,GAASA,EAAMC,MAA8B,kBAAfD,EAAMC,MFJrC,SAAgBC,GACrB,IACI9B,KAAKC,MAAM6B,GACb,MAAOnC,GACL,OAAO,EAEX,OAAO,EEFwDoC,CAAOF,KAClEA,EAAO7B,KAAKC,MAAM4B,IAEpB3B,QAAQC,IAAI,4BAA6B0B,oCAIzC,OACEf,EAAAC,EAAAC,cAAA,MAAA,CAAKC,UAAU,UACbH,EAAAC,EAAAC,cAAA,MAAA,CAAKC,UAAU,oBACbH,EAAAC,EAAAC,cAAA,MAAA,CAAKC,UAAU,kBACbH,EAAAC,EAAAC,cAAA,SAAA,CAAQgB,GAAG,gBAAgBf,UAAU,SAASgB,IAAI,+BAlBzCX,EAAAA,YCYNY,mLATX,OACEpB,EAAAC,EAAAC,cAAA,MAAA,CAAKC,UAAU,OACbH,EAAAC,EAAAC,cAACmB,EAAD,MACArB,EAAAC,EAAAC,cAACoB,EAAD,cALUd,EAAAA,WCDlBe,EAAAA,EAASC,OAAOxB,EAAAC,EAAAC,cAACuB,EAAD,MAASjC,SAASC,eAAe\",\"sourcesContent\":[\"import React, { Component } from 'react';\\nimport './reporter.css';\\nimport { getIframe } from '../../Runner/utils';\\n\\nclass Reporter extends Component {\\n  clickReplay(e: any) {\\n    const lastEventRaw = localStorage.getItem('lastEvent');\\n    if (lastEventRaw) {\\n      const lastEvent = JSON.parse(lastEventRaw);\\n      console.log('last event: ', lastEvent);\\n      const doc = getIframe();\\n      if (!doc) {\\n        console.error('no iframe');\\n        return;\\n      }\\n      const element = doc.querySelector(lastEvent.selector);\\n      console.log('element', element);\\n      if (!element) {\\n        console.warn('element removed before event could be replayed from selector: ', lastEvent.selector);\\n        return false;\\n      }\\n\\n      element.click();\\n      return true;\\n    }\\n\\n    console.warn('No prior event');\\n    return false;\\n  }\\n\\n  buildJestTest() {\\n    const lastEventRaw = localStorage.getItem('lastEvent');\\n    if (lastEventRaw) {\\n      const lastEvent = JSON.parse(lastEventRaw);\\n      console.log(lastEvent);\\n    }\\n  }\\n\\n  render() {\\n    return (\\n      <div className=\\\"assertly reporter\\\">\\n        Assertly\\n\\n        <br/><br/><br/>\\n\\n        <button\\n          onClick={this.clickReplay}\\n        >\\n          Replay last event\\n        </button>\\n\\n        <br/><br/><br/>\\n\\n        <button\\n          onClick={this.buildJestTest}\\n        >\\n          Build test from last Component\\n        </button>\\n      </div>\\n    );\\n  }\\n}\\n\\nexport default Reporter;\\n\",\"\\nexport function getIframe (): HTMLElement | null {\\n  const doc = window.document.getElementById('runner-iframe');\\n\\n  return doc;\\n}\\n\\n\\nexport function isJson(str: string) {\\n  try {\\n      JSON.parse(str);\\n  } catch (e) {\\n      return false;\\n  }\\n  return true;\\n}\",\"import React, { Component } from 'react';\\nimport Reporter from './Reporter/';\\n\\nclass ControlPanel extends Component {\\n  render() {\\n    return (\\n      <div className=\\\"App\\\">\\n        <Reporter/>\\n      </div>\\n    );\\n  }\\n}\\n\\nexport default ControlPanel;\",\"import React, { Component } from 'react';\\nimport './Runner.scss';\\nimport {isJson} from './utils';\\n\\n\\nclass Runner extends Component {\\n  componentDidMount(): void {\\n    window.addEventListener(\\\"message\\\", this.receiveMessage);\\n  }\\n\\n  receiveMessage(event: any) {  \\n    let data = event.data;\\n    if (event && event.data && typeof event.data === 'string' && isJson(data)) {\\n      data = JSON.parse(data);\\n    }\\n    console.log('assertly received event: ', data);\\n  }\\n\\n  render() {\\n    return (\\n      <div className=\\\"runner\\\">\\n        <div className=\\\"iframe-container\\\">\\n          <div className=\\\"size-container\\\">\\n            <iframe id=\\\"runner-iframe\\\" className=\\\"iframe\\\" src=\\\"//localhost:3000\\\" />\\n          </div>\\n        </div>\\n      </div>\\n    );\\n  }\\n}\\n\\nexport default Runner;\",\"import React, { Component } from 'react';\\nimport Window from './Types';\\nimport './App.css';\\nimport ControlPanel from './ControlPanel'\\nimport Runner from './Runner'\\n\\nclass App extends Component {\\n  render() {\\n    return (\\n      <div className=\\\"App\\\">\\n        <ControlPanel />\\n        <Runner />\\n      </div>\\n    );\\n  }\\n}\\n\\nexport default App;\\n\",\"import React from 'react';\\nimport ReactDOM from 'react-dom';\\nimport './index.css';\\nimport App from './App';\\n\\nReactDOM.render(<App />, document.getElementById('root'));\\n\"]}","code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,function(e,t,n){e.exports=n(18)},,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){\"use strict\";n.r(t);var a=n(0),r=n.n(a),c=n(7),l=n.n(c),o=(n(14),n(1)),i=n(2),s=n(4),u=n(3),m=n(5);n(15),n(16);var f=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:\"clickReplay\",value:function(e){var t=localStorage.getItem(\"lastEvent\");if(t){var n=JSON.parse(t);console.log(\"last event: \",n);var a=window.document.getElementById(\"runner-iframe\");if(!a)return void console.error(\"no iframe\");var r=a.querySelector(n.selector);return console.log(\"element\",r),r?(r.click(),!0):(console.warn(\"element removed before event could be replayed from selector: \",n.selector),!1)}return console.warn(\"No prior event\"),!1}},{key:\"buildJestTest\",value:function(){var e=localStorage.getItem(\"lastEvent\");if(e){var t=JSON.parse(e);console.log(t)}}},{key:\"render\",value:function(){return r.a.createElement(\"div\",{className:\"assertly reporter\"},\"Assertly\",r.a.createElement(\"br\",null),r.a.createElement(\"br\",null),r.a.createElement(\"br\",null),r.a.createElement(\"button\",{onClick:this.clickReplay},\"Replay last event\"),r.a.createElement(\"br\",null),r.a.createElement(\"br\",null),r.a.createElement(\"br\",null),r.a.createElement(\"button\",{onClick:this.buildJestTest},\"Build test from last Component\"))}}]),t}(a.Component),v=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:\"render\",value:function(){return r.a.createElement(\"div\",{className:\"App\"},r.a.createElement(f,null))}}]),t}(a.Component),p=(n(17),function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:\"componentDidMount\",value:function(){window.addEventListener(\"message\",this.receiveMessage)}},{key:\"receiveMessage\",value:function(e){var t=e.data;e&&e.data&&\"string\"===typeof e.data&&function(e){try{JSON.parse(e)}catch(t){return!1}return!0}(t)&&(t=JSON.parse(t)),console.log(\"assertly received event: \",t)}},{key:\"render\",value:function(){return r.a.createElement(\"div\",{className:\"runner\"},r.a.createElement(\"div\",{className:\"iframe-container\"},r.a.createElement(\"div\",{className:\"size-container\"},r.a.createElement(\"iframe\",{id:\"runner-iframe\",className:\"iframe\",src:\"//localhost:3000\"}))))}}]),t}(a.Component)),b=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:\"render\",value:function(){return r.a.createElement(\"div\",{className:\"App\"},r.a.createElement(v,null),r.a.createElement(p,null))}}]),t}(a.Component);l.a.render(r.a.createElement(b,null),document.getElementById(\"root\"))}],[[8,1,2]]]);","extractedComments":[]}